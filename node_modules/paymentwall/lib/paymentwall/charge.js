var querystring = require('querystring');
	http = require('http');
	util = require('util'),
	crypto = require('crypto');
	Base = require('./base'),
	Product = require('./product'),


function Charge(req,res){

  var post_data = querystring.stringify({
  amount: 0.5,
  currency: 'USD', 
  description:'fanliu test', 
  email:'fan.liu@paymentwall.com',
  fingerprint: req.body.brick_fingerprint,
  token: req.body.brick_token,
  period:'day',
  period_duration:'1',
  'custom[ptcustom]':'3433!~,34331438573821409!~,Day!~,1!~,89!~,I-71NYKGRU45LK!~,true!~,0',
  'trial[amount]':1,
  'trial[currency]':'USD',
  'trial[period]': 'day',
  'trial[period_duration]':1
  });

  var post_options = {
      host: 'api.paymentwall.com',
      port: '80',

      // path: '/api/brick/charge',
      // method: 'Post',
      path: '/api/brick/charge/68272617',
      method: 'Get',
      headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
          "X-ApiKey": "58ab51bed29fa87881418cce5a3aac43"
          // 'Content-Length': post_data.length
      }
  };
    // console.log(post_data);

  var post_req = http.request(post_options, function(resa) {
      resa.setEncoding('utf8');
      resa.on('data', function (chunk) {
          console.log('Response: ' + chunk);
      });
  });

  post_req.write('');
  post_req.end();
}