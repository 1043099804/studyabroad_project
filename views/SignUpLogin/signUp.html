<!DOCTYPE html>
<html ng-app="SignUpAPP">
<head>

	<!-- The information of the website and the valid scale factor -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="留学机构点评团购网站" />
	<meta name="keywords" content="留学点评网 团购留学" />

	<link rel="stylesheet" href="/css/signup-form.css">
	<link rel="stylesheet" href="/css/skeleton.css">	
	<link rel="stylesheet" href="/css/site-nav.css">
	<link rel="stylesheet" href="/css/footer.css">
	<link rel="stylesheet" href="/css/font-awesome.min.css" />
	
	<script type="text/javascript" src="/bower_components/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>
	<script type="text/javascript" src="/bower_components/angular-resource/angular-resource.min.js"></script>
	<script type="text/javascript" src="/bower_components/angular-route/angular-route.min.js"></script>
	<script type="text/javascript" src="/bower_components/angular-strap/dist/modules/modal.min.js"></script>
	<script src="/js/signUp.js"></script>

</head>	

<body>

<div class="wrapper">
	<div class="site-nav">
    <div class="container">
      <div class="nav-left">
        <a href="#">我的消息</a>
        <a href="#">个人中心</a>
        <a href="/merchant/cooperate">商户中心</a>
      </div>

      <div class="nav-right">
        <div id="log-reg">
          <a href="/user/login/page">登陆</a><em>/</em>
          <a href="/user/signup/page">注册</a>
        </div>
        <div id="contactus">
          <i class="icon-envelope-alt"></i><a href="#">联系我们</a>
        </div>
      </div>

    </div> <!-- end of "container" -->
  </div> <!-- end of "site-nav" -->


	<div class="login-form" ng-controller="SignUpController">
		<div class="container">
			<h1>用户注册</h1>
				<form name="loginForm" role="form" ng-submit="register()" novalidate>
					
				<div class="form-group has-feedback" ng-class="{ 'has-error' : loginForm.name.$invalid && !loginForm.name.$pristine, 
				'has-success' : loginForm.name.$valid }">
					<label>用户姓名：</label>
					<input name="name" class="form-control" type="text" ng-model="person.name" ng-minlength=5 required >
					<p class="help-block" ng-show="loginForm.name.$error.required && !loginForm.name.$pristine">该项必填</p>
					<p class="help-block" ng-show="loginForm.name.$error.minlength && !loginForm.name.$pristine">姓名最小长度为5</p>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="loginForm.name.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="loginForm.name.$invalid && !loginForm.name.$pristine"></span>
				</div>


				<div class="form-group has-feedback" ng-class="{ 'has-error' : loginForm.email.$invalid && !loginForm.email.$pristine,
				'has-success' : loginForm.email.$valid }">
					<label>邮箱地址：</label>
					<input name="email" class="form-control" type="email" ng-model="person.email" required>
					<p class="help-block" ng-show="loginForm.email.$error.required && !loginForm.email.$pristine">该项必填</p>
					<p class="help-block" ng-show="loginForm.email.$error.email && !loginForm.email.$pristine">不符合email格式</p>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="loginForm.email.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="loginForm.email.$invalid && !loginForm.email.$pristine"></span>
				</div>


				<div class="form-group has-feedback" ng-class="{ 'has-error' : loginForm.password.$invalid && !loginForm.password.$pristine,
				'has-success' : same_password }">
					<label>设置密码：</label>
					<input class="form-control" name="password" type="password" ng-model="person.password" ng-minlength=6 required>
					<p class="help-block" ng-show="loginForm.password.$error.required && !loginForm.password.$pristine">该项必填</p>		
					<p class="help-block" ng-show="loginForm.password.$error.minlength && !loginForm.password.$pristine">密码最小长度为6</p>		
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="loginForm.password.$valid && same_password"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="loginForm.password.$invalid && !loginForm.password.$pristine"></span>
				</div>

				<div class="form-group has-feedback" ng-class="{ 'has-error' : (loginForm.password_confirmation.$invalid || !same_password) && !loginForm.password_confirmation.$pristine,
				'has-success' : same_password }">
					<label>再次输入密码：</label>
					<input class="form-control" name="password_confirmation" type="password" ng-model="person.password_confirmation" ng-minlength=6 required>
					<p class="help-block" ng-show="loginForm.password_confirmation.$error.required && !loginForm.password_confirmation.$pristine">该项必填</p>		
					<p class="help-block" ng-show="loginForm.password_confirmation.$error.minlength && !loginForm.password_confirmation.$pristine">密码最小长度为6</p>		
					<p class="help-block" ng-show="!same_password && !loginForm.password_confirmation.$pristine">两次填写密码不一致</p>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="loginForm.password_confirmation.$valid && same_password"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="loginForm.password_confirmation.$invalid && !loginForm.password_confirmation.$pristine"></span>
				</div>

				<div class="form-group has-feedback" ng-class="{ 'has-success' : (loginForm.userid.$invalid && !loginForm.userid.$pristine)||(!{{useridValid}} && !loginForm.userid.$pristine), 
				'has-success' : loginForm.userid.$valid&&{{useridValid}}}">
					<label>身份证号：</label>
					<input name="userid" class="form-control" type="text" ng-model="person.userid" required >
					<p class="help-block" ng-show="loginForm.userid.$error.required && !loginForm.userid.$pristine">该项必填</p>
					<p class="help-block" ng-show="{{useridValid}} && !loginForm.userid.$pristine">不符合身份证格式</p>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="loginForm.userid.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="loginForm.userid.$invalid && !loginForm.userid.$pristine&&{{useridValid}}"></span>
				</div>

				<div>
					<input name="personCheck" type="checkbox" ng-model="person.check" required>  是否同意用户守则
				</div>	
				<div>
		  			我是<input type="radio" ng-model="identification" value = "user">个人<input type="radio" ng-model="identification" value = "merchant">商户  
		  		</div>
		  		<br>
		<!-- 			除了ng自带的表单验证外，加上密码验证，才可以注册 -->
		  		<button type="submit" class="btn btn-primary" ng-disabled="loginForm.$invalid || !same_password||{{useridValid}}" >注册</button>	 
				</form>
		  </div>  
		</div><!-- end of "container" -->
	</div> <!-- end of "login-form" -->
</div> <!-- end of "wrapper"-->
<div class="footer">
  <div class="footer-wrapper">
    <div class="footer-top">
      <div class="container">
        <div class="intro">
          <div class="intro-topic">
            <i class="icon-info-sign"></i>关于我们
          </div>
          <div class="intro-content">
            <em>抵岸留学专业于留学团购，致力于构建一个最大的留学团购与交流平台。</em>
          </div>
        </div>
        <div class="info-list">
          <div class="info-list-1">
            <h2>用户帮助</h2>
            <ul>
              <li>常见团购问题</li>
              <li>论坛指南</li>
            </ul>
          </div>
          <div class="info-list-2">
            <h2>商务合作</h2>
            <ul>
              <li>商家合作</li>
              <li>推广链接</li>
            </ul>
          </div>
          <div class="info-list-3">
            <h2>联系客服</h2>
            <ul>
              <li>电话:010-88888888</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="container">
        <div class="footer-bottom-col">
          <span class="company"><em>北京抵岸文化传播有限公司</em></span>
          <span class="footer-span1">京ICP证030589号</span>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>

